(()=>{"use strict";window.React;const e=window.wp.data,t=window.wp.i18n,n=window.wp.element,s=window.wp.coreData,o=window.wp.editor,a=window.wp.components,l=window.ReactJSXRuntime;(0,window.wp.plugins.registerPlugin)("event-datetime-picker",{render:function(){if("event"!==(0,e.select)("core/editor").getCurrentPostType())return;const[p,i]=(0,s.useEntityProp)("postType","event","meta");if(!p)return;const r=p.eventStart?new Date(p.eventStart):"",d=p.eventEnd?new Date(p.eventEnd):"",[c,u]=(0,n.useState)(r?p.eventStart.split(" ")[0]:""),[v,y]=(0,n.useState)(""!==d?p.eventEnd.split(" ")[0]:c||""),m=p.eventStart?p.eventStart.split(" ")[1]:"00:00:00",w=p.eventEnd?p.eventEnd.split(" ")[1]:"23:59:59",[g,_]=(0,n.useState)(m?m.replace(/:00$/,""):""),[h,x]=(0,n.useState)(d&&w?w.replace(/:59|:00$/,""):""),[S,C]=(0,n.useState)(!(m&&"00:00:00"!==m||w&&"23:59:59"!==w)),[E,j]=(0,n.useState)(!(!r||!d||r.getFullYear()===d.getFullYear()&&r.getMonth()===d.getMonth()&&r.getDate()===d.getDate()));return(0,n.useEffect)((()=>{const e=new RegExp(/^[0-2]?[0-9]:[0-5][0-9]$/),t=e.test(g)?`${g}:00`:"",n=e.test(h)?`${h}:00`:"";i({...p,eventStart:`${c} ${t}`.trim(),eventEnd:`${v} ${n}`.trim()})}),[c,g,v,h]),(0,l.jsxs)(o.PluginDocumentSettingPanel,{name:"datetime-picker",title:(0,t.__)("Event Date","custom-post-type-events"),children:[(0,l.jsxs)("div",{style:{display:"flex",gap:"1em"},children:[(0,l.jsx)(a.ToggleControl,{label:(0,t.__)("Multi-day","custom-post-type-events"),checked:E,onChange:e=>{j(e),e||y(c)}}),(0,l.jsx)(a.ToggleControl,{label:(0,t.__)("All-day","custom-post-type-events"),checked:S,onChange:e=>{C(e),e||(_(""),x(""))}})]}),(0,l.jsx)(a.TextControl,{label:E?(0,t.__)("Start date","custom-post-type-events"):(0,t.__)("Date","custom-post-type-events"),placeholder:(0,t.__)("dd.mm.yyyy","custom-post-type-events"),value:c,onChange:e=>{u(e),E||y(e)},type:"date"}),E&&(0,l.jsx)(a.TextControl,{label:(0,t.__)("End date","custom-post-type-events"),placeholder:(0,t.__)("dd.mm.yyyy","custom-post-type-events"),value:v,onChange:e=>y(e),type:"date"}),!S&&(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:".25em"},children:[(0,l.jsx)(a.TextControl,{label:(0,t.__)("From","custom-post-type-events"),placeholder:(0,t.__)("hh:ii","custom-post-type-events"),value:g,onChange:e=>_(e)}),(0,l.jsx)("span",{style:{paddingTop:"1.125em"},children:"â†’"}),(0,l.jsx)(a.TextControl,{label:(0,t.__)("To","custom-post-type-events"),placeholder:(0,t.__)("hh:ii","custom-post-type-events"),value:h,onChange:e=>x(e)})]})]})},icon:""})})();